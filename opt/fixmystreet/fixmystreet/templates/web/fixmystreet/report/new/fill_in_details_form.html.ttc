use utf8;

#------------------------------------------------------------------------
# Compiled template generated by the Template Toolkit version 2.24
#------------------------------------------------------------------------

Template::Document->new({
    METADATA => {
        'name' => 'report/new/fill_in_details_form.html',
        'modtime' => '1433826839',
    },
    BLOCK => sub {
    my $context = shift || die "template sub called without context\n";
    my $stash   = $context->stash;
    my $output  = '';
    my $_tt_error;
    
    eval { BLOCK: {
$output .=  "<div id=\"report-a-problem-main\">\n    <h1>";
#line 2 "/opt/fixmystreet/fixmystreet/templates/web/fixmystreet/report/new/fill_in_details_form.html"
$output .=  $stash->get(['loc', [ 'Report your problem' ]]);
$output .=  "</h1>\n\n  ";
#line 6 "/opt/fixmystreet/fixmystreet/templates/web/fixmystreet/report/new/fill_in_details_form.html"
if ($stash->get(['report', 0, 'used_map', 0])) {
$output .=  "\n    <p class=\"change_location\">";
#line 5 "/opt/fixmystreet/fixmystreet/templates/web/fixmystreet/report/new/fill_in_details_form.html"
$output .=  $stash->get(['loc', [ 'Wrong location? Just click again on the map.' ]]);
$output .=  "</p>\n  ";
}

$output .=  "\n\n  ";
#line 18 "/opt/fixmystreet/fixmystreet/templates/web/fixmystreet/report/new/fill_in_details_form.html"
if ($stash->get('js')) {
$output .=  "\n    <p id=\"councils_text\">\n      ";
#line 10 "/opt/fixmystreet/fixmystreet/templates/web/fixmystreet/report/new/fill_in_details_form.html"
$output .=  $stash->get(['tprintf', [ $stash->get(['loc', [ 'All the information you provide here will be sent to <strong>%s</strong>.' ]]), $stash->get(['loc', [ 'the local council' ]]) ]]);

$output .=  "\n      ";
#line 14 "/opt/fixmystreet/fixmystreet/templates/web/fixmystreet/report/new/fill_in_details_form.html"
$output .=  $stash->get(['loc', [ 'The summary and description will also be made public (see our <a href="/privacy">privacy policy</a>).' ]]);
$output .=  "\n    </p>\n  ";
}
else {
$output .=  "\n      ";
#line 17 "/opt/fixmystreet/fixmystreet/templates/web/fixmystreet/report/new/fill_in_details_form.html"
$output .=  $context->process('report/new/councils_text.html');
$output .=  "\n  ";
}

$output .=  "\n\n  ";
#line 22 "/opt/fixmystreet/fixmystreet/templates/web/fixmystreet/report/new/fill_in_details_form.html"
if ($stash->get(['report', 0, 'used_map', 0]) && $stash->get('partial_token')) {
$output .=  "\n    <p id=\"unknown\">";
#line 21 "/opt/fixmystreet/fixmystreet/templates/web/fixmystreet/report/new/fill_in_details_form.html"
$output .=  $stash->get(['loc', [ 'Please note your report has <strong>not yet been sent</strong>. Choose a category and add further information below, then submit.' ]]);
$output .=  "</p>\n  ";
}

$output .=  "\n\n  ";
#line 24 "/opt/fixmystreet/fixmystreet/templates/web/fixmystreet/report/new/fill_in_details_form.html"

# TRY
$output .=  do {
    my $output = '';
    my ($_tt_error, $_tt_handler);
    eval {
#line 24 "/opt/fixmystreet/fixmystreet/templates/web/fixmystreet/report/new/fill_in_details_form.html"
$output .=  $context->process('report/new/sidebar.html');
    };
    if ($@) {
        $_tt_error = $context->catch($@, \$output);
        die $_tt_error if $_tt_error->type =~ /^return|stop$/;
        $stash->set('error', $_tt_error);
        $stash->set('e', $_tt_error);
        if (defined ($_tt_handler = $_tt_error->select_handler('file'))) {
if ($_tt_handler eq 'file') {

}
$_tt_error = 0;
        }
# NO DEFAULT
    }
# FINAL
die $_tt_error if $_tt_error;
$output;
};

$output .=  "\n\n  ";
#line 26 "/opt/fixmystreet/fixmystreet/templates/web/fixmystreet/report/new/fill_in_details_form.html"
$output .=  $context->include('errors.html');
$output .=  "\n\n    <fieldset>\n        <div id=\"problem_form\">\n\n          ";
#line 31 "/opt/fixmystreet/fixmystreet/templates/web/fixmystreet/report/new/fill_in_details_form.html"
$output .=  $context->include('report/new/form_heading.html');
$output .=  "\n\n          ";
#line 35 "/opt/fixmystreet/fixmystreet/templates/web/fixmystreet/report/new/fill_in_details_form.html"
if ($stash->get(['field_errors', 0, 'bodies', 0])) {
$output .=  "\n            <p class='form-error'>";
#line 34 "/opt/fixmystreet/fixmystreet/templates/web/fixmystreet/report/new/fill_in_details_form.html"
$output .=  $stash->get(['field_errors', 0, 'bodies', 0]);
$output .=  "</p>\n          ";
}

$output .=  "\n\n            <label for=\"form_title\">";
#line 37 "/opt/fixmystreet/fixmystreet/templates/web/fixmystreet/report/new/fill_in_details_form.html"
$output .=  $stash->get(['loc', [ 'One-line summary' ]]);
$output .=  " ";
#line 37 "/opt/fixmystreet/fixmystreet/templates/web/fixmystreet/report/new/fill_in_details_form.html"
$output .=  $context->include('report/public_label.html');
$output .=  "</label>\n          ";
#line 40 "/opt/fixmystreet/fixmystreet/templates/web/fixmystreet/report/new/fill_in_details_form.html"
if ($stash->get(['field_errors', 0, 'title', 0])) {
$output .=  "\n            <p class='form-error'>";
#line 39 "/opt/fixmystreet/fixmystreet/templates/web/fixmystreet/report/new/fill_in_details_form.html"
$output .=  $stash->get(['field_errors', 0, 'title', 0]);
$output .=  "</p>\n          ";
}

$output .=  "\n            <input type=\"text\" value=\"";
#line 41 "/opt/fixmystreet/fixmystreet/templates/web/fixmystreet/report/new/fill_in_details_form.html"

# FILTER
$output .=  do {
    my $output = '';
    my $_tt_filter = $context->filter('html')
              || $context->throw($context->error);

$output .=  $stash->get(['report', 0, 'title', 0]);
    
    &$_tt_filter($output);
};

$output .=  "\" name=\"title\" id=\"form_title\" placeholder=\"";
#line 41 "/opt/fixmystreet/fixmystreet/templates/web/fixmystreet/report/new/fill_in_details_form.html"
$output .=  $stash->get(['loc', [ 'What’s the issue, and where is it?' ]]);
$output .=  "\" required>\n\n            <label for=\"form_detail\">";
#line 43 "/opt/fixmystreet/fixmystreet/templates/web/fixmystreet/report/new/fill_in_details_form.html"
$output .=  $stash->get(['loc', [ 'Description' ]]);
$output .=  " ";
#line 43 "/opt/fixmystreet/fixmystreet/templates/web/fixmystreet/report/new/fill_in_details_form.html"
$output .=  $context->include('report/public_label.html');
$output .=  "</label>\n          ";
#line 46 "/opt/fixmystreet/fixmystreet/templates/web/fixmystreet/report/new/fill_in_details_form.html"
if ($stash->get(['field_errors', 0, 'detail', 0])) {
$output .=  "\n            <p class='form-error'>";
#line 45 "/opt/fixmystreet/fixmystreet/templates/web/fixmystreet/report/new/fill_in_details_form.html"
$output .=  $stash->get(['field_errors', 0, 'detail', 0]);
$output .=  "</p>\n          ";
}

$output .=  "\n            <textarea rows=\"7\" cols=\"26\" name=\"detail\" id=\"form_detail\" placeholder=\"";
#line 47 "/opt/fixmystreet/fixmystreet/templates/web/fixmystreet/report/new/fill_in_details_form.html"
$output .=  $stash->get(['loc', [ 'Explain what’s wrong, exactly where it is, and how long it’s been there…' ]]);
$output .=  "\" required>";
#line 47 "/opt/fixmystreet/fixmystreet/templates/web/fixmystreet/report/new/fill_in_details_form.html"

# FILTER
$output .=  do {
    my $output = '';
    my $_tt_filter = $context->filter('html')
              || $context->throw($context->error);

$output .=  $stash->get(['report', 0, 'detail', 0]);
    
    &$_tt_filter($output);
};

$output .=  "</textarea>\n\n          ";
#line 49 "/opt/fixmystreet/fixmystreet/templates/web/fixmystreet/report/new/fill_in_details_form.html"

# TRY
$output .=  do {
    my $output = '';
    my ($_tt_error, $_tt_handler);
    eval {
#line 49 "/opt/fixmystreet/fixmystreet/templates/web/fixmystreet/report/new/fill_in_details_form.html"
$output .=  $context->process('report/new/inline-tips.html');
    };
    if ($@) {
        $_tt_error = $context->catch($@, \$output);
        die $_tt_error if $_tt_error->type =~ /^return|stop$/;
        $stash->set('error', $_tt_error);
        $stash->set('e', $_tt_error);
        if (defined ($_tt_handler = $_tt_error->select_handler('file'))) {
if ($_tt_handler eq 'file') {

}
$_tt_error = 0;
        }
# NO DEFAULT
    }
# FINAL
die $_tt_error if $_tt_error;
$output;
};

$output .=  "\n\n          ";
#line 63 "/opt/fixmystreet/fixmystreet/templates/web/fixmystreet/report/new/fill_in_details_form.html"
if ($stash->get('js')) {
$output .=  "\n              <div id=\"form_category_row\">\n                  <label for=\"form_category\">";
#line 53 "/opt/fixmystreet/fixmystreet/templates/web/fixmystreet/report/new/fill_in_details_form.html"
$output .=  $stash->get(['loc', [ 'Category' ]]);
$output .=  "</label>\n                  <select name=\"category\" id=\"form_category\" required><option>";
#line 54 "/opt/fixmystreet/fixmystreet/templates/web/fixmystreet/report/new/fill_in_details_form.html"
$output .=  $stash->get(['loc', [ 'Loading...' ]]);
$output .=  "</option></select>\n              </div>\n          ";
}
else {
$output .=  "\n              ";
#line 62 "/opt/fixmystreet/fixmystreet/templates/web/fixmystreet/report/new/fill_in_details_form.html"
if ($stash->get(['category_options', 0, 'size', 0])) {
$output .=  "\n                  ";
#line 60 "/opt/fixmystreet/fixmystreet/templates/web/fixmystreet/report/new/fill_in_details_form.html"
if ($stash->get(['field_errors', 0, 'category', 0])) {
$output .=  "\n                    <p class='form-error'>";
#line 59 "/opt/fixmystreet/fixmystreet/templates/web/fixmystreet/report/new/fill_in_details_form.html"
$output .=  $stash->get(['field_errors', 0, 'category', 0]);
$output .=  "</p>\n                  ";
}

$output .=  "\n                  ";
#line 61 "/opt/fixmystreet/fixmystreet/templates/web/fixmystreet/report/new/fill_in_details_form.html"
$output .=  $context->process('report/new/category.html');
$output .=  "\n              ";
}

$output .=  "\n          ";
}

$output .=  "\n";
#line 67 "/opt/fixmystreet/fixmystreet/templates/web/fixmystreet/report/new/fill_in_details_form.html"
if ($stash->get('category_extras')) {
$output .=  "\n            ";
#line 66 "/opt/fixmystreet/fixmystreet/templates/web/fixmystreet/report/new/fill_in_details_form.html"
$output .=  $context->process('report/new/category_extras.html');
}

$output .=  "\n\n          ";
#line 69 "/opt/fixmystreet/fixmystreet/templates/web/fixmystreet/report/new/fill_in_details_form.html"

# TRY
$output .=  do {
    my $output = '';
    my ($_tt_error, $_tt_handler);
    eval {
#line 69 "/opt/fixmystreet/fixmystreet/templates/web/fixmystreet/report/new/fill_in_details_form.html"
$output .=  $context->process('report/new/after_category.html');
    };
    if ($@) {
        $_tt_error = $context->catch($@, \$output);
        die $_tt_error if $_tt_error->type =~ /^return|stop$/;
        $stash->set('error', $_tt_error);
        $stash->set('e', $_tt_error);
        if (defined ($_tt_handler = $_tt_error->select_handler('file'))) {
if ($_tt_handler eq 'file') {

}
$_tt_error = 0;
        }
# NO DEFAULT
    }
# FINAL
die $_tt_error if $_tt_error;
$output;
};

$output .=  "\n\n          ";
#line 90 "/opt/fixmystreet/fixmystreet/templates/web/fixmystreet/report/new/fill_in_details_form.html"
if ($stash->get(['c', 0, 'cobrand', 0, 'allow_photo_upload', 0])) {
$output .=  "\n              <label for=\"form_photo\">";
#line 72 "/opt/fixmystreet/fixmystreet/templates/web/fixmystreet/report/new/fill_in_details_form.html"
$output .=  $stash->get(['loc', [ 'Photo' ]]);
$output .=  "</label>\n              ";
#line 84 "/opt/fixmystreet/fixmystreet/templates/web/fixmystreet/report/new/fill_in_details_form.html"
if ($stash->get('upload_fileid') || $stash->get(['report', 0, 'photo', 0])) {
$output .=  "\n                  ";
#line 77 "/opt/fixmystreet/fixmystreet/templates/web/fixmystreet/report/new/fill_in_details_form.html"
if ($stash->get('upload_fileid')) {
$output .=  "\n                    <img align=\"right\" src=\"/photo/";
#line 75 "/opt/fixmystreet/fixmystreet/templates/web/fixmystreet/report/new/fill_in_details_form.html"
$output .=  $stash->get('upload_fileid');
$output .=  ".temp.jpeg\" alt=\"\">\n                    <input type=\"hidden\" name=\"upload_fileid\" value=\"";
#line 76 "/opt/fixmystreet/fixmystreet/templates/web/fixmystreet/report/new/fill_in_details_form.html"
$output .=  $stash->get('upload_fileid');
$output .=  "\">\n                  ";
}

$output .=  "\n\n                <p>";
#line 79 "/opt/fixmystreet/fixmystreet/templates/web/fixmystreet/report/new/fill_in_details_form.html"
$output .=  $stash->get(['loc', [ 'You have already attached a photo to this report, attaching another one will replace it.' ]]);
$output .=  "</p>\n\n                  ";
#line 83 "/opt/fixmystreet/fixmystreet/templates/web/fixmystreet/report/new/fill_in_details_form.html"
if ($stash->get(['report', 0, 'photo', 0])) {
$output .=  "\n                    <img align=\"right\" src=\"/photo/";
#line 82 "/opt/fixmystreet/fixmystreet/templates/web/fixmystreet/report/new/fill_in_details_form.html"
$output .=  $stash->get(['report', 0, 'id', 0]);
$output .=  ".jpeg\">\n                  ";
}

$output .=  "\n              ";
}

$output .=  "\n\n              ";
#line 88 "/opt/fixmystreet/fixmystreet/templates/web/fixmystreet/report/new/fill_in_details_form.html"
if ($stash->get(['field_errors', 0, 'photo', 0])) {
$output .=  "\n                <p class='form-error'>";
#line 87 "/opt/fixmystreet/fixmystreet/templates/web/fixmystreet/report/new/fill_in_details_form.html"
$output .=  $stash->get(['field_errors', 0, 'photo', 0]);
$output .=  "</p>\n              ";
}

$output .=  "\n            <input type=\"file\" name=\"photo\" id=\"form_photo\">\n          ";
}

$output .=  "\n\n          ";
#line 92 "/opt/fixmystreet/fixmystreet/templates/web/fixmystreet/report/new/fill_in_details_form.html"

# TRY
$output .=  do {
    my $output = '';
    my ($_tt_error, $_tt_handler);
    eval {
#line 92 "/opt/fixmystreet/fixmystreet/templates/web/fixmystreet/report/new/fill_in_details_form.html"
$output .=  $context->process('report/new/after_photo.html');
    };
    if ($@) {
        $_tt_error = $context->catch($@, \$output);
        die $_tt_error if $_tt_error->type =~ /^return|stop$/;
        $stash->set('error', $_tt_error);
        $stash->set('e', $_tt_error);
        if (defined ($_tt_handler = $_tt_error->select_handler('file'))) {
if ($_tt_handler eq 'file') {

}
$_tt_error = 0;
        }
# NO DEFAULT
    }
# FINAL
die $_tt_error if $_tt_error;
$output;
};

$output .=  "\n\n          ";
#line 98 "/opt/fixmystreet/fixmystreet/templates/web/fixmystreet/report/new/fill_in_details_form.html"
if ($stash->get(['c', 0, 'user_exists', 0])) {
$output .=  "\n            ";
#line 95 "/opt/fixmystreet/fixmystreet/templates/web/fixmystreet/report/new/fill_in_details_form.html"
$output .=  $context->process('report/new/form_user_loggedin.html');
$output .=  "\n          ";
}
else {
$output .=  "\n            ";
#line 97 "/opt/fixmystreet/fixmystreet/templates/web/fixmystreet/report/new/fill_in_details_form.html"
$output .=  $context->process('report/new/form_user_loggedout.html');
$output .=  "\n          ";
}

$output .=  "\n        </div>\n    </fieldset>\n\n  ";
#line 104 "/opt/fixmystreet/fixmystreet/templates/web/fixmystreet/report/new/fill_in_details_form.html"
if ($stash->get('partial_token')) {
$output .=  "\n    <input type=\"hidden\" name=\"partial\" value=\"";
#line 103 "/opt/fixmystreet/fixmystreet/templates/web/fixmystreet/report/new/fill_in_details_form.html"
$output .=  $stash->get(['partial_token', 0, 'token', 0]);
$output .=  "\">\n  ";
}

$output .=  "\n\n    <input type=\"hidden\" name=\"submit_problem\" value=\"1\">\n</div>\n";
    } };
    if ($@) {
        $_tt_error = $context->catch($@, \$output);
        die $_tt_error unless $_tt_error->type eq 'return';
    }

    return $output;
},
    DEFBLOCKS => {

    },
});
